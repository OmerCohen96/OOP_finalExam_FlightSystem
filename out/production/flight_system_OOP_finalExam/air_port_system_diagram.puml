@startuml
'https://plantuml.com/sequence-diagram

SearchFactory *-- SearchStrategy
SearchStrategy <|.. byPrice
SearchStrategy <|.. byDestination
SearchStrategy <|.. byDate
SearchFactory -right-o BookingManager
BookingManager *-- AirLineManager
AirLineManager o- AirLine
AirLine <|-- GroupAirLine
GroupAirLine o- AirLine
AirLine <|-- SingularAirLine
AirLine o-- Flight
Flight *-- MyDate

interface SearchStrategy<<Strategy>>{
    +search (Flights): matchingFlights
}

class SearchFactory <<static>>{
    +{static}generate(): searchStrategy
}

class byPrice <<concStrategy>>
class byDestination <<concStrategy>>
class byDate <<concStrategy>>

class BookingManager <<Singleton>>{
    -AirLineManager
    -Map<Flight,Passengers[ ]> flightsBook
    -flightObservers [ ]
    +addNewFlight()
    +searchFlight()
    -search(searchMethod)
    +purchaseTicket()
}

class AirLineManager <<Singelton>>{
    -airLineGroups [ ]
    +{static}Static getInstance()
    +addAirLineGroup()
    +getAirLineGroups()
    +findAirLineGroup()
    +removeAirLineGroup()
    +getAirLineComponent()
    +findAirLineComponent()
}

abstract AirLine <<Component>>{
    -companyName
    -flights [ ]

    #getInternalFlights()
    +getCompanyName()
    +removeFlight()
    +addFlight()
    + {abstract} getAllFlights()
    + {abstract}  getAllcompanies()
}

class GroupAirLine <<Composite>> {
    -subsidiaryAirLines [ ]
    +addSubsidiary()
    +removeSubsidiary()
}

class SingularAirLine <<Leaf>>

class Flight{
    -{static}SERIAL_NUMBER
    -flight_code
    -origin
    -destination
    -airLineName
    -departureTime
    -arrivalTime
    -double price
    --
    simple Getters&Setters
}

class MyDate{
    - LocalDateTime
    +{static}MyDate of(String)
    +{static}boolean isValid(String)
    +equals()
    +equalsByDate()
    +isAfter()
    +isBefore()
}


@enduml